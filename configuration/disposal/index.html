<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><link rel="canonical" href="http://die.mrmeeseeks.net/configuration/disposal/" />
      <link rel="shortcut icon" href="../../img/favicon.ico" />
    <title>Disposal Configurations - MrMeeseeks.DIE</title>
    <link rel="stylesheet" href="../../css/theme.css" />
    <link rel="stylesheet" href="../../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/styles/github.min.css" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "Disposal Configurations";
        var mkdocs_page_input_path = "configuration/disposal.md";
        var mkdocs_page_url = "/configuration/disposal/";
      </script>
    
    <script src="../../js/jquery-3.6.0.min.js" defer></script>
    <!--[if lt IE 9]>
      <script src="../../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script>
      <script>hljs.initHighlightingOnLoad();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../.." class="icon icon-home"> MrMeeseeks.DIE
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../..">Home</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../getting-started/">Getting Started</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../">Configuration</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../naming-rules/">Naming Rules</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../scoping/">Scoping</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../user-defined-elements/">User-defined Elements</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../disposal/">Disposal</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../injections/">Injections</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../async-support/">Async Support</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../generics-support/">Generics Support</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../decorators-composites/">Decorators & Composites</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../initializers/">Initializers</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../glossary/">Glossary</a>
                </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../..">MrMeeseeks.DIE</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../.." class="icon icon-home" alt="Docs"></a> &raquo;</li>
      <li>Disposal Configurations</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="disposal-configurations">Disposal Configurations</h1>
<h2 id="purpose">Purpose</h2>
<p>DIE automatically manages disposables for you and disposes of them when the container or (temporary) scope is discarded. However, sometimes you want to handle the disposal yourself. In these cases you need to tell the container or scopes not to manage these specific implementations. </p>
<p>The attributes come in three flavors, which can be distinguished by the following terms:</p>
<ul>
<li><strong>SyncTransient</strong> ignores <code>IDisposable</code> implementations for disposal management.</li>
<li><strong>AsyncTransient</strong> ignores <code>IAsyncDisposable</code> implementations for disposal management. </li>
<li><strong>Transient</strong> ignores <code>IDisposable</code> &amp; <code>IAsyncDisposable</code> implementations for disposal management.</li>
</ul>
<h2 id="attributes">Attributes</h2>
<ul>
<li><strong>TransientAbstractionAggregationAttribute</strong> For any given abstraction, all of its implementations are completely ignored for disposal management.</li>
</ul>
<pre><code class="language-csharp">[TransientAbstractionAggregation(typeof(IWillCleanItUpMyself))]
</code></pre>
<ul>
<li><strong>FilterTransientAbstractionAggregationAttribute</strong> For each given abstraction, all of its implementations are considered again for disposal management.</li>
</ul>
<pre><code class="language-csharp">[FilterTransientAbstractionAggregation(typeof(IWillCleanItUpMyselfAsync))]
</code></pre>
<ul>
<li><strong>TransientImplementationAggregationAttribute</strong> Any given implementation is completely ignored for disposal management.</li>
</ul>
<pre><code class="language-csharp">[TransientImplementationAggregation(typeof(DisposeMeAsap))]
</code></pre>
<ul>
<li><strong>FilterTransientImplementationAggregationAttribute</strong> Each given implementation will be considered again for disposal management.</li>
</ul>
<pre><code class="language-csharp">[FilterTransientImplementationAggregation(typeof(DisposeMeAsapAsync))]
</code></pre>
<ul>
<li><strong>SyncTransientAbstractionAggregationAttribute</strong> For any given abstraction, all of its implementations are ignored for sync disposal management.</li>
</ul>
<pre><code class="language-csharp">[SyncTransientAbstractionAggregation(typeof(IWillCleanItUpMyself))]
</code></pre>
<ul>
<li><strong>FilterSyncTransientAbstractionAggregationAttribute</strong> For each given abstraction, all of its implementations are considered again for sync disposal management.</li>
</ul>
<pre><code class="language-csharp">[FilterSyncTransientAbstractionAggregation(typeof(IWillCleanItUpMyself))]
</code></pre>
<ul>
<li><strong>SyncTransientImplementationAggregationAttribute</strong> Any given implementation will be ignored for sync disposal management.</li>
</ul>
<pre><code class="language-csharp">[SyncTransientImplementationAggregation(typeof(DisposeMeAsap))]
</code></pre>
<ul>
<li><strong>FilterSyncTransientImplementationAggregationAttribute</strong> Any given implementation will be considered again for sync disposal management.</li>
</ul>
<pre><code class="language-csharp">[FilterSyncTransientImplementationAggregation(typeof(DisposeMeAsap))]
</code></pre>
<ul>
<li><strong>AsyncTransientAbstractionAggregationAttribute</strong> For any given abstraction, all of its implementations are ignored for async disposal management.</li>
</ul>
<pre><code class="language-csharp">[AsyncTransientAbstractionAggregation(typeof(IWillCleanItUpMyselfAsync))]
</code></pre>
<ul>
<li><strong>FilterAsyncTransientAbstractionAggregationAttribute</strong> For each given abstraction, all of its implementations are considered again for async disposal management.</li>
</ul>
<pre><code class="language-csharp">[FilterAsyncTransientAbstractionAggregation(typeof(IWillCleanItUpMyselfAsync))]
</code></pre>
<ul>
<li><strong>AsyncTransientImplementationAggregationAttribute</strong> Any given implementation is ignored for async disposal management.</li>
</ul>
<pre><code class="language-csharp">[AsyncTransientImplementationAggregation(typeof(DisposeMeAsapAsync))]
</code></pre>
<ul>
<li><strong>FilterAsyncTransientImplementationAggregationAttribute</strong> Any given implementation is considered for async disposal management.</li>
</ul>
<pre><code class="language-csharp">[FilterAsyncTransientImplementationAggregation(typeof(DisposeMeAsapAsync))]
</code></pre>
<h2 id="recommendations">Recommendations</h2>
<ul>
<li>Use the <strong>Transient</strong> flavor when an implementation implements both disposal interfaces and you want to ignore both.</li>
<li>Or if you want the implementation's disposal to be ignored regardless of future changes to its disposal interfaces.</li>
<li>If an implementation implements both disposal interfaces, but you only want one of them to be ignored, use either the <strong>SyncTransient</strong> or <strong>AsyncTransient</strong> flavor.</li>
<li>Pass <code>IDisposable</code> and <code>IAsyncDisposable</code> to the <strong>TransientAbstractionAggregationAttribute</strong> if you want to effectively disable disposal management for implementations.</li>
</ul>
              
            </div>
          </div><footer>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
    
  </span>
</div>
    <script>var base_url = '../..';</script>
    <script src="../../js/theme_extra.js" defer></script>
    <script src="../../js/theme.js" defer></script>
      <script src="../../search/main.js" defer></script>
    <script defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>
